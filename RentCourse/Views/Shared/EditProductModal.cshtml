@model RentCourse.ViewModels.EditProductViewModel
@inject RentCourse.Data.EFContext.EFDbContext _context;
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="~/css/StyleSheet.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
</head>

<style>
    h5 {
        font-family: sans-serif;
        font-weight: 600;
        color: #2acdc1;
        font-size: 2em;
        text-transform: uppercase;
    }

    .inputheader {
        font-family: sans-serif;
        font-weight: 600;
        color: #04049d;
        text-transform: uppercase;
        line-height: 110%;
        letter-spacing: 2px;
    }

    .form-control {
        border: 0.2em solid #04049d !important;
        border-radius: 0 !important;
        color: #04049d !important;
        font-size: 1em !important;
        font-family: sans-serif !important;
        height: 3em;
    }

    label {
        font-family: sans-serif;
        font-weight: 600;
    }

    .btn {
        font-size: 1em;
        font-family: sans-serif;
        font-weight: 600;
        background: none;
        color: #04049d;
        border: 0.2em solid #04049d !important;
        border-radius: 0 !important;
        text-transform: uppercase
    }

    .btn-outline-dark:hover {
        background: #04049d !important;
        color: #ffffff !important;
    }

    .star {
        position: absolute;
        top: 10%;
        left: 90%;
        transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        height: 3em;
    }
</style>

<div class="modal fade" id="editmodal_@Model.ProductId" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true" style="--bs-gutter-x: 0;">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="productModalLabel" style="text-align:center; width:100%;font-size:3em">Редагування</h5>
                <button type="button" style="color:#04049d; font-size:3em; border:none !important" class="btn" data-bs-dismiss="modal" aria-label="Close">×</button>
            </div>
            <div class="modal-body">
                <form method="post" asp-controller="Product" asp-action="EditProduct" class="regform" enctype="multipart/form-data" style="display:flex;padding-left:10%;padding-right:10%;flex-direction:row;height:100%">
                    <div style="display:flex;flex-direction:column;width:50%;justify-content:center;margin:1rem">
                        <div asp-validation-summary="ModelOnly"></div>
                        <div>
                            <label class="inputheader" asp-for="Title"></label><br />
                            <input type="text" class="form-control" asp-for="Title" value="@_context.Products.FirstOrDefault(x=>x.Id==Model.ProductId).Title" />
                            <span asp-validation-for="Title"></span>
                        </div>
                        <div>
                            <label class="inputheader" asp-for="Description"></label><br />
                            <input type="text" class="form-control" asp-for="Description" value="@_context.Products.FirstOrDefault(x=>x.Id==Model.ProductId).Description" />
                            <span asp-validation-for="Description"></span>
                        </div>
                        <div>
                            <label class="inputheader" asp-for="Price"></label><br />
                            <input type="number" class="form-control" asp-for="Price" value="@_context.Products.FirstOrDefault(x=>x.Id==Model.ProductId).Price" />
                            <span asp-validation-for="Price"></span>
                        </div>
                        <div style="display:none">
                            <input asp-for="UserId" value="@Model.UserId"/>
                            <input asp-for="ProductId" value="@Model.ProductId"/>
                        </div>
                        <div style="display:flex;justify-content:center">
                            <input style="font-size:1em;font-family:sans-serif;font-weight:600;margin-top:1em !important;color:#04049d;min-width:25%;border: 0.2em solid #04049d !important;border-radius: 0 !important;" type="submit" class="btn btn-outline-dark" value="ЗБЕРЕГТИ" />
                        </div>
                    </div>
                    <div style="width:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:1rem">
                        <img src="/Files/@_context.Products.FirstOrDefault(x=>x.Id==Model.ProductId).Image" style="width:100%;height:auto" />
                        <div class="form-group">
                            <label class="inputheader" asp-for="ImageName"></label>
                            <input class="form-control" type="file" name="uploadedFile" />
                            <span asp-validation-for="ImageName" />
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Закрити</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>

<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>